ORG 0000H
LJMP START

START: MOV TMOD,#20H
MOV TH1,#0FDH
MOV SCON,#50H
SETB TR1
LJMP MAIN

MAIN: MOV R4,#08
MOV A,#01H

NXT_CH: MOV R6,A
MOV A,R6
ADD A,#30H
CJNE A,#3AH,CHECK
SJMP SEND

CHECK: JC SEND
ADD A,#07H

SEND: LCALL TX_CHAR
MOV A,R6
ADD A,#02H
DJNZ R4,NXT_CH
SJMP $

TX_CHAR: MOV SBUF,A
WAIT: JNB TI,WAIT
CLR TI
RET
END